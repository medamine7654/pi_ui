{% extends 'base.html.twig' %}

{% block title %}Rent Tools - RentAll{% endblock %}

{% block body %}
<div class="container mx-auto px-4 py-6">
    {# Hero section #}
    <section class="mb-8 text-center">
        <h1 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
            Rent Tools & Equipment
        </h1>
        <p class="mt-2 text-gray-600">
            Find the perfect tools for your project
        </p>
    </section>

    {# Filters #}
    <section class="mb-8">
        <div class="flex items-center gap-4 flex-wrap">
            {# Category filter #}
            <div class="flex gap-2 overflow-x-auto">
                <a 
                    href="{{ path('app_tools') }}"
                    class="shrink-0 px-4 py-2 rounded-md text-sm font-medium {% if not filters.category %}bg-gray-900 text-white{% else %}border border-gray-300 bg-white text-gray-700 hover:bg-gray-50{% endif %}"
                >
                    All Tools
                </a>
                {% for category in ['power-tools', 'garden', 'construction', 'cleaning', 'automotive', 'camping'] %}
                    <a 
                        href="{{ path('app_tools', {category: category}) }}"
                        class="shrink-0 px-4 py-2 rounded-md text-sm font-medium {% if filters.category == category %}bg-gray-900 text-white{% else %}border border-gray-300 bg-white text-gray-700 hover:bg-gray-50{% endif %}"
                    >
                        {{ category|replace({'-': ' '})|title }}
                    </a>
                {% endfor %}
            </div>

            {# Availability filter #}
            <div class="ml-auto">
                <label class="inline-flex items-center">
                    <input 
                        type="checkbox" 
                        name="available"
                        {% if filters.available %}checked{% endif %}
                        class="rounded border-gray-300 text-blue-600 focus:ring-blue-600"
                        onchange="this.form.submit()"
                    >
                    <span class="ml-2 text-sm text-gray-700">Available only</span>
                </label>
            </div>
        </div>
    </section>

    {# Results count #}
    <div class="mb-4 text-sm text-gray-600">
        {{ tools|length }} {{ tools|length == 1 ? 'tool' : 'tools' }} found
    </div>

    {# Tools grid #}
    <section>
        {% if tools|length > 0 %}
            {% import 'components/tool_card.html.twig' as card %}
            <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
                {% for tool in tools %}
                    {{ card.render(tool, hosts[tool.hostId] ?? null) }}
                {% endfor %}
            </div>
        {% else %}
            {# Empty state #}
            <div class="flex flex-col items-center justify-center py-12 text-center">
                <div class="rounded-full bg-gray-100 p-6">
                    <svg class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243 4.243 3 3 0 004.243-4.243zm0-5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"/>
                    </svg>
                </div>
                <h3 class="mt-4 text-lg font-medium text-gray-900">No tools found</h3>
                <p class="mt-1 text-gray-600">
                    Try adjusting your filters
                </p>
            </div>
        {% endif %}
    </section>
</div>
{% endblock %}
